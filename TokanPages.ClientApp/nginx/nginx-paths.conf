# --------------------------------------------------
# WE ALLOW ONLY GIVEN UI PATHS SO IF SPA IS LOADED
# WITH WRONG PAGE, THEN WE WILL SHOW HTTP 404 ERROR,
# OTHERWISE SPA WOULD DISPLAY HTTP 200 ERROR.
# --------------------------------------------------

# -----------------------------------------------
# REDIRECT ROOT PATH TO THE DEFAULT ENGLISH PAGE.
# -----------------------------------------------

location = / {
    return 301 /en;
}

# -----------------------------------------------------
# REDIRECT SPECIFIC REQUESTS TO THE DEFAULT ENGLISH 
# BASE PATH. WE CONSIDER HTML, PHP AND ASPX MOSTLY 
# FOR SEO CRAWLERS THAT TESTS SUCH PATHS AUTOMATICALLY.
# -----------------------------------------------------

location = /index.htm {
    return 301 /en;
}

location = /index.html {
    return 301 /en;
}

location = /index.php {
    return 301 /en;
}

location = /index.aspx {
    return 301 /en;
}

# ------------------------
# PATHS FOR PRE-RENDERING.
# ------------------------

location /snapshot {
    try_files $uri $uri/ /index.html$is_args$args;
}

# -----------------
# ENGLISH LANGUAGE.
# -----------------

include /etc/nginx/nginx-paths-en.conf;

# ----------------
# POLISH LANGUAGE.
# ----------------

include /etc/nginx/nginx-paths-pl.conf;

# -----------------
# SPANISH LANGUAGE.
# -----------------

include /etc/nginx/nginx-paths-es.conf;

# -----------------
# UKRAINE LANGUAGE.
# -----------------

include /etc/nginx/nginx-paths-uk.conf;

# ----------------
# GERMAN LANGUAGE.
# ----------------

include /etc/nginx/nginx-paths-de.conf;

# ----------------
# FRENCH LANGUAGE.
# ----------------

include /etc/nginx/nginx-paths-fr.conf;
